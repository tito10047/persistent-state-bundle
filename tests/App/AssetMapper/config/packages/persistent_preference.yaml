services:
    app.users_resolver:
        class: Tito10047\PersistentPreferenceBundle\Resolver\ObjectContextResolver
        arguments:
            $class: Tito10047\PersistentPreferenceBundle\Tests\App\AssetMapper\Src\Entity\User
            $prefix: 'user_'
    app.companies_resolver:
        class: Tito10047\PersistentPreferenceBundle\Resolver\ObjectContextResolver
        arguments:
            $class: Tito10047\PersistentPreferenceBundle\Tests\App\AssetMapper\Src\Entity\Company
            $prefix: 'company_'
            $identifierMethod: 'getUuid'
    app.storage.doctrine:
        class: Tito10047\PersistentPreferenceBundle\Storage\DoctrinePreferenceStorage
        arguments:
            - '@doctrine.orm.entity_manager'
            - Tito10047\PersistentPreferenceBundle\Tests\App\AssetMapper\Src\Entity\UserPreference

persistent:
    preference:
        managers:
            default:
                storage: '@persistent_preference.storage.session'
            my_pref_manager:
                storage: '@app.storage.doctrine'